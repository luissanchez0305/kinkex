<?php
/*
Copyright (C) 2011, WebAndPeople.com
*/
?>
<?php
 class WP_AdvancedSlider_Helper_Data extends Mage_Core_Helper_Abstract{const DIR_RESIZED="resized";public function normalizePathSeparator($   ){return str_replace(chr(47),DS,$   );}public function removeResizedImageFile($    ){try {$     =new Varien_Io_File();$      =$     ->{"\x72\x6d\x64\x69\x72"}($    ,true);$       =Mage::helper(chr(97).chr(100).chr(118).chr(97).chr(110).chr(99).chr(101).chr(100).chr(115).chr(108).chr(105).chr(100).chr(101).chr(114))->{"\x67\x65\x74\x52\x65\x73\x69\x7a\x65\x64\x49\x6d\x61\x67\x65\x44\x69\x72"}($    );$      =$     ->{"\x72\x6d\x64\x69\x72"}($       ,true);}catch (Exception $        ){}}public function getResizedImageDir($         ,$          =false){if (!trim($         ))return '';$           =pathinfo($         ,PATHINFO_DIRNAME);$           =str_replace(chr(47),DS,$           );$            =pathinfo($         ,PATHINFO_BASENAME);$             =str_replace(chr(46),chr(45),$            );$              ='';if ($          )$              =Mage::getBaseDir(chr(109).chr(101).chr(100).chr(105).chr(97)).DS;$              .= $           .DS.self::DIR_RESIZED.DS.$             ;return $              ;}public function getResizedImageUrl($         ,$               ,$                =null,$                 =false){if (!$         )return '';$           =pathinfo($         ,PATHINFO_DIRNAME);$            =pathinfo($         ,PATHINFO_BASENAME);$                  =pathinfo($         ,PATHINFO_EXTENSION);$           =str_replace(chr(47),DS,$           );$                   =Mage::getBaseDir(chr(109).chr(101).chr(100).chr(105).chr(97)).DS.$           .DS.$            ;if (!$                )$                =$               ;$             =str_replace(chr(46),chr(45),$            );$       =Mage::getBaseDir(chr(109).chr(101).chr(100).chr(105).chr(97)).DS.$           .DS.self::DIR_RESIZED.DS.$             .DS.$               .chr(88).$                .($                 ?chr(95).chr(103).chr(114).chr(97).chr(121).chr(115).chr(99).chr(97).chr(108).chr(101):'').chr(46).$                  ;if (!file_exists($       )&& file_exists($                   )){$                    =new Varien_Image($                   );$                    ->{"\x71\x75\x61\x6c\x69\x74\x79"}(100);$                    ->{"\x63\x6f\x6e\x73\x74\x72\x61\x69\x6e\x4f\x6e\x6c\x79"}(true);$                    ->{"\x6b\x65\x65\x70\x41\x73\x70\x65\x63\x74\x52\x61\x74\x69\x6f"}(true);$                    ->{"\x72\x65\x73\x69\x7a\x65"}($               ,$                );$                    ->{"\x73\x61\x76\x65"}($       );}$                     ='';if (file_exists($       )){if ($                 ){try {$                      =new WP_AdvancedSlider_Model_ColorImageToGrayscale($       ,$       );$                      ->{"\x67\x72\x61\x79\x73\x63\x61\x6c\x65"}();}catch (Exception $        ){}}$                     =str_replace(Mage::getBaseDir(chr(109).chr(101).chr(100).chr(105).chr(97)).DS,'',$       );$                     =str_replace(DS,chr(47),$                     );$                     =Mage::getBaseUrl(chr(109).chr(101).chr(100).chr(105).chr(97)).$                     ;}return $                     ;}public function getWysiwygAddWidgetsStatus(){$                       =explode(chr(46),Mage::getVersion());$                        =$                       [0].$                       [1].$                       [2];$                        += 0;if ($                        <= 140)return true;return false;}public function getSliderPreviewLink($                         ){if ($                         ){$         =Mage::getUrl(chr(97).chr(100).chr(118).chr(97).chr(110).chr(99).chr(101).chr(100).chr(115).chr(108).chr(105).chr(100).chr(101).chr(114).chr(47).chr(112).chr(114).chr(101).chr(118).chr(105).chr(101).chr(119).chr(47).chr(105).chr(110).chr(100).chr(101).chr(120),array (chr(95).chr(97).chr(114).chr(101).chr(97)=>chr(102).chr(114).chr(111).chr(110).chr(116).chr(101).chr(110).chr(100),chr(105).chr(100)=>$                         ));$                          ="popWin('$         ', 'slider', 'width=800, height=600, resizable=yes, scrollbars=yes')";}else {$                          =chr(106).chr(97).chr(118).chr(97).chr(115).chr(99).chr(114).chr(105).chr(112).chr(116).chr(58).chr(59);}return $                          ;}}